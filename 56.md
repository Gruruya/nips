
NIP-56
======

Labeling
---------

`draft` `optional` `author:jb55` `author:staab` `author:michaelhall923` `author:gruruya`

A label is a `kind 1984` note that is used to report other notes for spam, illegal, explicit, or any other type of content.

The content MAY contain additional information submitted by the entity reporting the content.

Label Tag
----

The label event MUST include one or more tags representing the object or objects being
labeled: `e`, `p`, `r`, or `t` tags. This allows for labeling of events, people, relays,
or topics respectively.

A `label` string MAY be included as the 3rd entry to each object tag. This MAY be an unqualified string indicating the type of content based on convention, or a qualified string referring to a nomenclature external to nostr. Some examples of report types:

- `#t/footstr` - the publisher thinks the given event should have the `footstr` topic applied.
- `#p/<pubkey>` - the publisher things the given event should be tagged with with `<pubkey>`
- `MeSH/D005528` - ["Foot"](https://meshb.nlm.nih.gov/record/ui?ui=D005528) from NIH's Medical Subject Headings vocabulary
- `GeoNames/3173435` - [Milan, Italy](https://www.geonames.org/3173435/milan.html) using the GeoNames coding system
- `ISO-3166-2/IT-MI` - Milano, Italy using ISO 3166-2.
- `nudity`, `profanity`, `illegal`, `spam`, `impersonation` - informal, but potentially useful content-based reports

As much as possible, fully-qualified labels should be used if the goal is precision, for
example for moderation. Otherwise, convention should be the rule.

When associating standard nostr tags with one another via a label, clients SHOULD provide
two tags defining the same association in reverse order so that the association is searchable.
For example, if you wanted to say `<pubkey>` is related to `#pizza`, you would include
`["p", "<pubkey>", "#t/pizza"]` as well as `["t", "pizza", "#p/<pubkey>"]` in the tags array.

Other Tags
-----

The label event MAY include a `quality` tag with a value of 0 to 1. This allows for an
absolute, granular scale that can be represented in any way (5 stars, color scale, etc).

The label event MAY include a `confidence` tag with a value of 0 to 1. This indicates the certainty which the author has about their rating.

The label event MAY include one or more `context` tags to provide references to further
information about the report or content. The remainder of this tag can be any tag, for
example to cite an event's author, you would use `["context", "p", "pubkey"]`. This tag may
also include an additional mark to describe the reason it has been included. Relay urls are
not included in each `context` tag (as described in NIP-10), since they can be added using a separate `context` tag.

Example events
--------------

A report that an event contains nudity, including where the event was seen, and who the author was.

```json
{
  "kind": 1984,
  "tags": [
    ["e", <id>, "nudity"]
    ["context", "r", <url>]
    ["context", "p", <pubkey>]
  ],
  "content": "",
  ...
}
```

A report of impersonation, citing the impersonator, and the victim.

```json
{
  "kind": 1984,
  "tags": [
    ["p", <impersonator pubkey>, "impersonation"],
    ["context", "p", <victim pubkey>, "victim"]
  ],
  "content": "Profile is imitating <npub>",
  ...
}
```

Bidirectional association of a pubkey with a topic.

```json
{
  "kind": 1984,
  "tags": [
    ["p", <pubkey>, "#t/permies"],
    ["t", "permies", "#p/<pubkey>"],
  ],
  "content": "",
  ...
}
```

A review of a relay, as relates to certain topics, including additional dimensions. The author
is indicating here that `relay_url` is related to the bitcoin topic, but they're not very sure
that's the case.

```json
{
  "kind": 1984,
  "tags": [
    ["r", <relay_url>, "#t/bitcoin"],
    ["quality", 0.7],
    ["confidence", 0.2],
  ],
  "content": "I think this relay is mostly just bitcoiners.",
  ...
}
```

A review of a relay, independent of context.

```json
{
  "kind": 1984,
  "tags": [
    ["r", <relay_url>],
    ["quality", 0.1],
  ],
  "content": "This relay is full of mean people.",
  ...
}
```

Client behavior
---------------

Clients can use reports from friends to make moderation decisions if they
choose to. For instance, if 3+ of your friends report a profile as explicit,
clients can have an option to automatically blur photos from said account.

Relay behavior
--------------

It is not recommended that relays perform automatic moderation using reports,
as they can be easily gamed. Admins could use reports from trusted moderators to
takedown illegal or explicit content if the relay does not allow such things.
